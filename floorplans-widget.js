ysi.floorplans=ysi.floorplans||{},ysi.floorplans.initTabs=function(){if(void 0!==ysi.isIpmDefaultView&&ysi.isIpmDefaultView){if(window.matchMedia("(min-width: 768px)").matches){let e=document.querySelector("#ipm-tab");e&&e.click();let t=document.querySelector("#map-tab");t&&t.click()}}},ysi.floorplans.initShowMore=function(){document.querySelectorAll(".read-more-link").forEach(function(e){e.addEventListener("click",function(){var t=e.parentElement.querySelector(".dots"),a=e.parentElement.querySelector(".floorplan-description-more"),n=e.parentElement.querySelector('[name^="less-info"]'),o=e.parentElement.querySelector('[name^="more-info"]');"none"===t.style.display?(t.style.display="inline",e.innerHTML=ysi.utils.translateText("Read more"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-describedby",o.id),a.style.display="none"):(t.style.display="none",e.innerHTML=ysi.utils.translateText("Read less"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-describedby",n.id),a.style.display="inline")})})},ysi.floorplans.generateQueryStringFromFilters=function(){let e="?";if(null!=ysi.floorplanOptimized&&null!=ysi.floorplanOptimized.filters){var t=ysi.floorplanOptimized.filters;null!=t.numBedsList&&(e+=`Beds=${t.numBedsList}&`),null!=t.numBathsList&&(e+=`Baths=${t.numBathsList}&`),null!=t.minRent&&""!=t.minRent&&(e+=`MinRent=${parseFloat(t.minRent)}&`),null!=t.maxRent&&""!=t.maxRent&&(e+=`MaxRent=${parseFloat(t.maxRent)}&`),null!=t.minSqFt&&""!=t.minSqFt&&(e+=`MinSqft=${parseFloat(t.minSqFt)}&`),null!=t.maxSqFt&&""!=t.maxSqFt&&(e+=`MaxSqft=${parseFloat(t.maxSqFt)}&`),null!=t.moveInDate&&""!=t.moveInDate&&(e+=`MoveInDate=${t.moveInDate}&`),null!=t.apartmentNumber&&t.apartmentNumber&&(e+=`Apt=${t.apartmentNumber}&`)}return"?"==e?e="":e.endsWith("&")&&(e=e.slice(0,-1)),e},ysi.floorplans.initActionButtons=function(){let e=function(e){let t=e.dataset.toggle&&e.dataset.toggle.indexOf("modal")>-1&&e.dataset.target?e.dataset.target.replace("#",""):e.getAttribute("href").replace("#",""),a=document.getElementById(t).querySelector(".modal-body");return a.hasAttribute("id")||(a.id="modalbody-"+Math.floor(1e5*Math.random())),a.id};document.querySelectorAll(".dialog-button").forEach(function(t){const a=new Modal(t);t.addEventListener("click",function(){let n=e(t);a.show(),opendialog(n,t.dataset.modalUrl,ysi.modalContact.init)})});var t=0;document.querySelectorAll(".tab-tour-option-dropdown").forEach(function(e){new Dropdown("#live-tour-option-menu-"+t);var a=document.getElementById("live-tour-option-menu-"+t);e.style.bottom=a.offsetHeight+"px",t++}),document.querySelectorAll(".fppartial-image").forEach(function(t){const a=new Modal(t);t.addEventListener("click",function(){let n=e(t);a.show(),opendialog(n,t.dataset.modalUrl,ysi.modalCarousel.init)})}),document.querySelectorAll(".show-floorplans-video-button").forEach(function(t){const a=new Modal(t);t.addEventListener("click",function(){let n=e(t);a.show(),opendialog(n,"",function(){let e=document.getElementById(n),a=e.querySelector(".embed-body"),o=e.parentNode.querySelector(".modal-header h2");a&&(a.innerHTML=t.dataset.videoLink),o&&(o.innerHTML=ysi.utils.translateText(t.dataset.floorplanName))})})}),document.querySelectorAll(".show-cost-calculator-button").forEach(function(t){const a=new Modal(t);t.addEventListener("click",function(){let n=e(t);a.show(),opendialog(n,t.dataset.modalUrl,ysi.leasecostcalculator.init(n))})}),document.querySelectorAll(".show-inclusive-fee-button").forEach(function(t){t.addEventListener("click",function(){const a=new Modal(t);if(!a)return;let n=e(t),o=document.getElementById(n);o.querySelector(".modal-fp-base-rent").innerHTML=t.getAttribute("data-fp_base_charge"),o.querySelector(".modal-fp-inclusive-rent").innerHTML=t.getAttribute("data-fp_inclusive_charge"),o.querySelector(".modal-fp-total-rent").innerHTML=t.getAttribute("data-fp_total_charge"),o.parentElement.querySelector(".modal-footer").querySelector(".modal-fp-rent-estimator-url").setAttribute("href",t.getAttribute("data-fp-estimator-url")),a.show(),opendialog(n,"","")})}),document.querySelectorAll(".show-floorplans-image-button").forEach(function(e){const t=new Modal(e);e.addEventListener("click",function(){t.show(),opendialog(e.dataset.imageModal,"","")})}),document.querySelectorAll(".fppartial-tourvideo").forEach(function(t){const a=new Modal(t);t.addEventListener("click",function(){let n=e(t);a.show(),opendialog(n,"",function(){let e=document.getElementById(n),a=e.querySelector(".embed-body"),o=e.parentNode.querySelector(".modal-header h2"),l=t.dataset["3dtourLink"];a&&l&&(a.classList.remove("embed-responsive-16by9","embed-responsive-4by3"),a.classList.add(t.dataset["3dtourClass"]),a.innerHTML=t.dataset["3dtourLink"]),o&&(o.innerHTML=ysi.utils.translateText(t.dataset.floorplanName))})})}),document.querySelectorAll(".track-dialog").forEach(function(e){e.addEventListener("click",function(){if("undefined"!=typeof gtag){var t=document.querySelector('meta[name="author"]').content;gtag("event","open_modal",{property_name:t,form_name:"contact_us",button_label:"contact_us",page_name:document.title,page_url:window.location.href,floorplan_name:e.dataset.floorplanName}),gtag("event","Contact Us",{event_category:"Contact Us",event_action:"Open Dialog",event_label:e.dataset.floorplanName}),gtag("rc.send","Contact Us",{event_category:"Contact Us",event_action:"Open Dialog",event_label:e.dataset.floorplanName})}})});var a=ysi.floorplans.generateQueryStringFromFilters();document.querySelectorAll(".track-apply").forEach(function(e){e.addEventListener("click",function(){if(!e.hasAttribute("data-clicked")&&"undefined"!=typeof gtag){e.setAttribute("data-clicked","true");var t=document.querySelector('meta[name="author"]').content;"student"==e.dataset.leasingtype?gtag("event","floorplan_selection",{property_name:t,button_label:"availability",page_name:document.title,page_url:window.location.href,floorplan_name:e.dataset.floorplanName,floorplan_size:e.dataset.floorplanSize+" Bed(s)",square_footage:e.dataset.floorplanSqft,price:e.dataset.floorplanPrice,leasing_type:e.dataset.leasingtype,academic_term:e.dataset.academicterm,accomodation_type:e.dataset.rentlevel}):gtag("event","floorplan_selection",{property_name:t,button_label:"availability",page_name:document.title,page_url:window.location.href,floorplan_name:e.dataset.floorplanName,floorplan_size:e.dataset.floorplanSize+" Bed(s)",square_footage:e.dataset.floorplanSqft,price:e.dataset.floorplanPrice,leasing_type:e.dataset.leasingtype}),gtag("event","FloorPlans",{event_category:"FloorPlans",event_action:"Availability",event_label:e.dataset.floorplanName}),gtag("rc.send","FloorPlans",{event_category:"FloorPlans",event_action:"Availability",event_label:e.dataset.floorplanName})}}),""!=a&&(e.href=e.href.substring(e.href.lastIndexOf("?"))+a)}),document.querySelectorAll(".floorplan-action-button").forEach(function(e){e.addEventListener("click",function(){e.dataset.floorplanName&&localStorage.setItem("visitedFloorplanName",e.dataset.floorplanName)})})},ysi.floorplans.tabsAsAccordionOnMobile=function(){let e=document.querySelectorAll(".card-header a"),t=document.querySelectorAll(".tab-pane"),a=document.querySelectorAll(".collapse ");if(window.matchMedia("(max-width: 767px)").matches)for(let n=0;n<t.length;n++)t[n].removeAttribute("tabindex"),t[n].removeAttribute("role"),a[n].setAttribute("role","region"),e[n]&&a[n].setAttribute("aria-labelled-by",e[n].id)},ysi.floorplans.tourPageRedirect=function(e){window.location.replace(e)},ysi.registerCallback(function(){ysi.floorplans.initTabs(),ysi.floorplans.initShowMore(),ysi.floorplans.initActionButtons()});